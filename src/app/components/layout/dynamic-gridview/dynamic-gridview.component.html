<div class="container-fluid mt-4" *ngIf="data.length > 0">
  <div class="mat-elevation-z8">
    <mat-form-field class="custom-search-field mb-3">
      <mat-label>Filter</mat-label>
      <input matInput (keyup)="applyFilter($event)" />
      <button mat-icon-button matSuffix disableRipple class="search-icon">
        <mat-icon>search</mat-icon>
      </button>
    </mat-form-field>
    <div class="grid-close">
      <button
        type="button"
        *ngIf="tabNameNew === 'IMPGENERAL'"
        class="btn custom-btn btn-primary"
        (click)="onSearch()"
      >
        Search
      </button>
      <button
        type="submit"
        *ngIf="
          tabNameNew !== 'IMPGENERAL' &&
          tabName !== 'BLDETAILS' &&
          tabName !== 'INVOICE' &&
          tabName !== 'CONTAINER' &&
          tabName !== 'VESSEL'
        "
        class="btn custom-btn btn-danger"
        (click)="refreshPage()"
      >
        Close
      </button>
    </div>
    <table
      mat-table
      [dataSource]="dataSource"
      class="mat-table"
      *ngIf="data && data.length > 0"
    >
      <ng-container
        *ngFor="let column of displayColumns"
        [matColumnDef]="column"
      >
        <th mat-header-cell *matHeaderCellDef>{{ column }}</th>

        <td mat-cell *matCellDef="let element">
          <ng-container *ngIf="column === 'select'">
            <button mat-icon-button (click)="onSelect(element)">
              <img
                src="../../../../assets/Images/choice.png"
                alt="Select"
                width="24"
              />
            </button>
          </ng-container>
          <ng-container *ngIf="column === 'delete'">
            <button
              mat-icon-button
              style="color: red"
              (click)="onDelete(element)"
            >
              <i class="ri-delete-bin-6-line"></i>
            </button>
          </ng-container>
          <ng-container *ngIf="column === 'actions'">
            <button mat-icon-button [matMenuTriggerFor]="menu">
              <mat-icon>more_vert</mat-icon>
            </button>
            <mat-menu #menu="matMenu">
              <button
                mat-menu-item
                *ngFor="let action of actionMap"
                (click)="onAction(action.label, element)"
              >
                <mat-icon style="color: #3d5095">{{ action.icon }}</mat-icon>
                <span>{{ action.label }}</span>
              </button>
            </mat-menu>
          </ng-container>
          <ng-container
            *ngIf="
              column !== 'select' && column !== 'delete' && column !== 'actions'
            "
          >
            {{ element[column] }}
          </ng-container>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayColumns"></tr>
    </table>

    <mat-paginator
      [pageSizeOptions]="[5, 10, 20]"
      showFirstLastButtons
    ></mat-paginator>
  </div>
</div>

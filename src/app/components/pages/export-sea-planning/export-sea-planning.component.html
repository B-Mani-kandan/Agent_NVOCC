<app-tab-panel
  *ngIf="!isGridVisible"
  [tabs]="tabLabels"
  [tabContents]="tabContents"
  [disabledTabs]="disabledTabs"
></app-tab-panel>

<ng-template #GENERAL>
  <app-dynamic-forms
    [formGroup]="generalForm"
    [formFields]="generalFields"
    [templateId]="'GENERAL'"
    [isMandatoryField]="getMandatoryFields('GENERAL')"
    [getAutocompleteOptions]="getAutocompleteOptions.bind(this)"
    (formSubmit)="saveForm($event)"
  ></app-dynamic-forms>

  <div class="container-fluid d-flex gap-2 col-12 ml-2 mt-4 mb-4">
    <button
      type="submit"
      class="btn custom-btn btn-success"
      *ngIf="!isModifyVisible"
      (click)="OnGeneralSave('Save')"
    >
      Save
    </button>
    <button
      type="submit"
      class="btn custom-btn btn-success"
      *ngIf="isModifyVisible"
      (click)="OnGeneralSave('Modify')"
    >
      Modify
    </button>
    <button
      type="submit"
      class="btn custom-btn btn-primary"
      (click)="fetchGridData('GENERAL')"
    >
      Search
    </button>
    <button
      type="reset"
      class="btn custom-btn btn-danger"
      (click)="clearAllForms()"
    >
      Clear
    </button>
  </div>
</ng-template>

<ng-template #OPERATION>
  <app-dynamic-forms
    [formGroup]="operationForm"
    [formFields]="operationFields"
    [templateId]="'OPERATION'"
    [isMandatoryField]="getMandatoryFields('OPERATION')"
    [getAutocompleteOptions]="getAutocompleteOptions.bind(this)"
    (formSubmit)="saveForm($event)"
  ></app-dynamic-forms>
  <div class="container-fluid d-flex gap-2 col-12 ml-2 mt-4 mb-4">
    <button
      type="submit"
      class="btn custom-btn btn-success"
      (click)="OnOperationsSave('Save')"
      *ngIf="!isModifyVisible"
    >
      Save
    </button>
    <button
      type="submit"
      class="btn custom-btn btn-success"
      (click)="OnOperationsSave('Modify')"
      *ngIf="isModifyVisible"
    >
      Modify
    </button>
    <input
      type="reset"
      class="btn custom-btn btn-danger"
      (click)="clearAllForms()"
      value="Clear"
    />
  </div>
</ng-template>

<ng-template #INVOICE>
  <app-dynamic-forms
    [formGroup]="invoiceForm"
    [formFields]="invoiceFields"
    [templateId]="'INVOICE'"
    [isMandatoryField]="getMandatoryFields('INVOICE')"
    [getAutocompleteOptions]="getAutocompleteOptions.bind(this)"
    (formSubmit)="saveForm($event)"
  ></app-dynamic-forms>
  <div class="container-fluid d-flex gap-2 col-12 ml-2 mt-4 mb-4">
    <button
      type="submit"
      class="btn custom-btn btn-success"
      (click)="OnInvoiceSave()"
    >
      Save
    </button>
    <button type="submit" class="btn custom-btn btn-success">Modify</button>
    <button type="reset" class="btn custom-btn btn-danger">Clear</button>
  </div>
</ng-template>

<ng-template #CONTAINER>
  <app-dynamic-forms
    [formGroup]="containerForm"
    [formFields]="containerFields"
    [templateId]="'CONTAINER'"
    [isMandatoryField]="getMandatoryFields('CONTAINER')"
    [getAutocompleteOptions]="getAutocompleteOptions.bind(this)"
    (formSubmit)="saveForm($event)"
  ></app-dynamic-forms>
  <div class="container-fluid d-flex gap-2 col-12 ml-2 mt-4 mb-4">
    <button
      type="submit"
      class="btn custom-btn btn-success"
      (click)="OnContainerSave()"
    >
      Save
    </button>
    <button type="submit" class="btn custom-btn btn-success">Modify</button>
    <button type="reset" class="btn custom-btn btn-danger">Clear</button>
  </div>
</ng-template>

<ng-template #VESSEL>
  <app-dynamic-forms
    [formGroup]="vesselForm"
    [formFields]="vesselFields"
    [templateId]="'VESSEL'"
    [isMandatoryField]="getMandatoryFields('VESSEL')"
    [getAutocompleteOptions]="getAutocompleteOptions.bind(this)"
    (formSubmit)="saveForm($event)"
  ></app-dynamic-forms>
  <div class="container-fluid d-flex gap-2 col-12 ml-2 mt-4 mb-4">
    <button
      type="submit"
      class="btn custom-btn btn-success"
      (click)="OnVesselSave()"
    >
      Save
    </button>
    <button type="submit" class="btn custom-btn btn-success">Modify</button>
    <button type="reset" class="btn custom-btn btn-danger">Clear</button>
  </div>
</ng-template>

<app-dynamic-gridview
  *ngIf="isGridVisible"
  [data]="gridData"
  [columns]="displayedColumns"
  (rowSelected)="fillGeneralForm($event)"
>
</app-dynamic-gridview>
<app-toast></app-toast>

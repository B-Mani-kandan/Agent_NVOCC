<div class="container mt-4" *ngIf="!isShowVisible">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <div class="search-box">
      <input type="text" class="form-control" placeholder="Search..." />
    </div>
  </div>

  <table class="table align-middle">
    <thead>
      <tr>
        <th>JobNo</th>
        <th>JobDate</th>
        <th>ClientName</th>
        <th>POL</th>
        <th>POD</th>
        <th>FPOD</th>
        <th>ShippingLine</th>
        <th>Nvocc</th>
      </tr>
    </thead>
    <tbody>
      <tr
        *ngFor="
          let BookingData of NvoccBookingData?.Nvocc_Booking;
          let i = index
        "
        (click)="onJobSelect(BookingData.JobID)"
      >
        <td>{{ BookingData.OrderJobNo }}</td>
        <td>{{ BookingData.OrderJobDate }}</td>
        <td>{{ BookingData.ClientName }}</td>
        <td>{{ BookingData.POL }}</td>
        <td>{{ BookingData.POD }}</td>
        <td>{{ BookingData.FPOD }}</td>
        <td>{{ BookingData.ShippingLine }}</td>
        <td>{{ BookingData.Nvocc }}</td>
      </tr>
    </tbody>
  </table>
</div>

<div class="container mt-4" *ngIf="isShowVisible">
  <h5>Job Details</h5>
  <table class="table">
    <thead>
      <tr>
        <th>Select</th>
        <th>Container No</th>
        <th>Container Size</th>
        <th>Empty Yard Name</th>
        <th>Empty Date</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let detail of JobDetails; let i = index">
        <td>
          <input type="checkbox" [(ngModel)]="detail.isSelected" />
        </td>
        <td>{{ detail.Con_No }}</td>
        <td>{{ detail.CType }}</td>
        <td>
          <form class="example-form">
            <mat-form-field appearance="fill">
              <mat-label>Yard Name</mat-label>
              <input
                type="text"
                matInput
                [formControl]="detail.yardControl"
                [matAutocomplete]="auto"
              />
              <mat-autocomplete #auto="matAutocomplete">
                <mat-option
                  *ngFor="let option of detail.filteredOptions | async"
                  [value]="option"
                >
                  {{ option }}
                </mat-option>
              </mat-autocomplete>
            </mat-form-field>
          </form>
        </td>
        <td>
          <mat-form-field>
            <mat-label>Choose a date</mat-label>
            <input
              matInput
              [formControl]="detail.emptyDateControl"
              [matDatepicker]="picker"
            />
            <mat-datepicker-toggle
              matIconSuffix
              [for]="picker"
            ></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
        </td>
      </tr>
    </tbody>
  </table>

  <button class="btn btn-primary" (click)="SaveOceanRate()">Save</button>
</div>

<app-toast></app-toast>
